"use strict";var app=app||{};app.PlayerView=Backbone.View.extend({initialize:function(){this.render()},render:function(){return this.$el.html(TmpEngine.render("player",{phrase:"Hello!!!"})),this.afterRendering(),this},afterRendering:function(){this.initTimeline(),this.initVolumeControl(),this.initPlaylistScroll(),this.initFileReader()},initTimeline:function(){this.$(".timeline").slider({range:"min",min:0,max:100})},initVolumeControl:function(){this.$(".volume").slider({range:"min",min:0,max:100,value:20,slide:function(i,n){}})},initPlaylistScroll:function(){this.$("."+CLASS_PREFIX+"-playlist").mCustomScrollbar({theme:"minimal-dark",scrollInertia:0})},initFileReader:function(){FileCollector.init("#"+PLAYER_ID+" #dropzone")}});var PLAYER_ID="webAudioPlayer",CLASS_PREFIX="wap",TmpEngine=function(){var i={playerID:PLAYER_ID,classPrefix:CLASS_PREFIX},n=function(i,n){return n=n||{},e[i]?e[i](n):void 0},e={player:function(n){return'<div id="'+i.playerID+'">                            <div class="'+i.classPrefix+'-audiobox">                                <audio></audio>                            </div>                            <div class="'+i.classPrefix+'-playlist">                                 <ul class="'+i.classPrefix+'-tracker">                                    <li id="dropzone">                                        <span>Drop files here <br>or click to add in playlist.</span>                                    </li>                                 </ul>                            </div>                        </div>'},track:function(i){return'<li>                          <span class="track-name">We’ll be coming back</span>                          <span class="track-duration">3:55</span>                        </li>'},information:function(n){return'<div class="'+i.classPrefix+'-album-cover">                            <img class="cover-image active" src="https://upload.wikimedia.org/wikipedia/en/d/df/Calvin_Harris_-_18_Months.png" alt="Calvin_Harris_-_18_Months" />                        </div>                        <div class="track-name">We’ll be coming back</div>                        <div class="'+i.classPrefix+'-author">Calvin Harris</div>                        <div class="'+i.classPrefix+'-album-name">18 months</div>'}};return{render:n}}(),FileCollector=function(i){var n={drugAndDrop:!0,fileInput:'<input type="file" name="files[]" multiple>'},e=[],a=!1,r=!1,l=function(e){a=i(e),a.append(n.fileInput),r=a.find('input[type="file"]'),a.on("click",t.clickOnContainer),r.on("change",t.changeOfFileInput),n.drugAndDrop&&(a.on("dragover",t.dragOverHandler),a.on("drop",t.dropHandler))},t={clickOnContainer:function(){r.on("click",function(i){i.stopPropagation()}).trigger("click")},changeOfFileInput:function(i){var n=i.target.files;o(n)},dropHandler:function(i){i.stopPropagation(),i.preventDefault();var n=i.originalEvent.dataTransfer.files;o(n)},dragOverHandler:function(i){i.stopPropagation(),i.preventDefault(),i.originalEvent.dataTransfer.dropEffect="copy",console.log("dfgdfg")}},o=function(n){i.each(n,function(i,n){var a={file:n,progressTotal:0,progressDone:0,element:null,valid:!1};a.valid=("image/png"==n.type||"image/jpeg"==n.type||"image/jpg"==n.type)&&n.size/1024/1024<2,e.unshift(a),console.log(e)})};return{init:l}}(jQuery);