var app=app||{};app.TrackView=Backbone.View.extend({tagName:"li",initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){return this.$el.html(TmpEngine.render("track",this.model.toJSON())),this}});var app=app||{};app.Track=Backbone.Model.extend({defaults:{author:"",album:"",name:""}});var app=app||{};app.TrackList=Backbone.Collection.extend({model:app.Track,localStorage:new Backbone.LocalStorage("web-player")}),app.Tracks=new app.TrackList;var app=app||{};app.PlayerView=Backbone.View.extend({events:{},initialize:function(){this.$el.html(TmpEngine.render("player")),this.listenTo(app.Tracks,"add",this.addOne),this.$player=this.$("#"+PLAYER_ID),this.$playlist=this.$player.find(".playlist"),this.$tracker=this.$playlist.find(".tracker"),this.afterRendering(),app.Tracks.fetch()},render:function(){},addOne:function(e){var t=new app.TrackView({model:e});e.save(),this.$tracker.append(t.render().el)},addOneToCollection:function(e){app.Tracks.add(e)},renderList:function(e){var t=this;app.Tracks.each(function(e,n){t.addOne(e)})},initFileUpload:function(){var e=this;FilesUpload.init("#"+PLAYER_ID+" .upload-files",function(t){$.each(tracks,function(t,n){e.addOneToCollection(n)})})},renderTrack:function(e){var t=new app.TrackView({model:e});this.$tracker.append(t.render().el)},afterRendering:function(){this.initPlaylistScroll(),FilesDownload.init(this.$player)},initPlaylistScroll:function(){this.$playlist.mCustomScrollbar({theme:"minimal-dark",scrollInertia:0})},getFilesFromServer:function(){}});var app=app||{};app.PlaylistView=Backbone.View.extend({initialize:function(){this.$el.html(TmpEngine.render("playlist")),this.collection=new app.TrackList(tracks)},render:function(){var e=this;_.each(this.collection.models,function(t){e.renderTrack(t)},this)},renderTrack:function(e){var t=new app.TrackView({model:e});this.$tracker.append(t.render().el)}});var PLAYER_ID="webAudioPlayer",CLASS_PREFIX="wap",TmpEngine=function(){var e={playerID:PLAYER_ID,classPrefix:CLASS_PREFIX},t=function(e,t){return t=t||{},n[e]?n[e](t):void 0},n={player:function(t){return'<div id="'+e.playerID+'">                            <div class="'+e.classPrefix+'-audiobox">                                <audio></audio>                            </div>                            <div class="playlist current">                                 <ul class="tracker"></ul>                                 <div class="modal-window"></div>                            </div>                            <ul class="'+e.classPrefix+'-tools">                                <li class="get-files" title="get files from server"></li>                                <li class="upload-files" title="upload files"></li>                            </ul>                        </div>'},track:function(e){return'<span class="track-name">'+e.name+'</span>                        <span class="track-duration">'+e.duration+"</span>"},information:function(t){return'<div class="'+e.classPrefix+'-album-cover">                            <img class="cover-image active" src="https://upload.wikimedia.org/wikipedia/en/d/df/Calvin_Harris_-_18_Months.png" alt="Calvin_Harris_-_18_Months" />                        </div>                        <div class="track-name">We’ll be coming back</div>                        <div class="'+e.classPrefix+'-author">Calvin Harris</div>                        <div class="'+e.classPrefix+'-album-name">18 months</div>'},fileList:function(){return'<ul class="file-list"></ul>'}};return{render:t}}(),FilesUpload=function(e){var t={drugAndDrop:!1,fileMimeTypes:["audio/mp3","audio/mpeg","audio/vnd.wave"],fileInput:'<input type="file" name="files[]" multiple>'},n=!1,i=!1,r=!1,a=function(a,s){n=e(a),n.append(t.fileInput),i=n.find('input[type="file"]'),i.hide(),r=s,n.on("click",o.clickOnContainer),i.on("change",o.changeOfFileInput),t.drugAndDrop&&(n.on("dragover",o.dragOver),n.on("drop",o.drop),n.on("dragenter",o.drugEnter),n.on("dragleave",o.drugLeave))},o={clickOnContainer:function(){i.on("click",function(e){e.stopPropagation()}).trigger("click")},changeOfFileInput:function(e){var t=e.target.files;s(t)},drop:function(e){e.stopPropagation(),e.preventDefault();var t=e.originalEvent.dataTransfer.files;n.removeClass("drag-active"),s(t)},dragOver:function(e){e.stopPropagation(),e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy"},drugEnter:function(){n.addClass("drag-active")},drugLeave:function(){n.removeClass("drag-active")}},s=function(n){var i=[];e.each(n,function(n,r){var a={file:r,progressTotal:0,progressDone:0,valid:!1};e.each(t.fileMimeTypes,function(e,t){r.type==t&&i.unshift(a)})}),r(i)};return{init:a}}(jQuery),FilesDownload=function(){var e={urlServer:"http://php-file-server.local/index.php"},t=!1,n=!1,i=function(i){t=i.find(".playlist"),t.append(),n=t.find("."+e.fileListClass),r()},r=function(){$(".get-files").on("click",function(){var e=t.find(".modal-window");e.toggleClass("active"),e.hasClass("active")&&a()}),n.find(".cancel").on("click",function(){n.removeClass("active")})},a=function(){$.ajax({type:"GET",url:e.urlServer,cache:!1,beforeSend:function(){},success:function(e){console.log(e)}})};return{init:i}}(),ID3Tags=function(e){var t={tags:["title","artist","album","picture"]},n=function(e){ID3.loadTags(e.name,function(){console.log(ID3.getAllTags(e.name))},{tags:t.tags,dataReader:ID3.FileAPIReader(e)})};return{getTags:n}}(jQuery);!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.f=e();else if("function"==typeof define&&define.M)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ID3=e()}}(function(){return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);throw c=Error("Cannot find module '"+o+"'"),c.code="MODULE_NOT_FOUND",c}c=n[o]={f:{}},t[o][0].call(c.f,function(e){var n=t[o][1][e];return r(n?n:e)},c,c.f,e,t,n,i)}return n[o].f}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t){var n=e("./stringutils");if("undefined"!=typeof document){var i=document.createElement("script");i.type="text/vbscript",i.textContent="Function IEBinary_getByteAt(strBinary, iOffset)\r\n	IEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n	IEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n",document.getElementsByTagName("head")[0].appendChild(i)}else e("btoa"),e("atob");t.f=function(e,t,i){var r=t||0,a=0;"string"==typeof e?(a=i||e.length,this.a=function(t){return 255&e.charCodeAt(t+r)}):"unknown"==typeof e&&(a=i||IEBinary_getLength(e),this.a=function(t){return IEBinary_getByteAt(e,t+r)}),this.s=function(e,t){for(var n=Array(t),i=0;t>i;i++)n[i]=this.a(e+i);return n},this.l=function(){return a},this.g=function(e,t){return 0!=(this.a(e)&1<<t)},this.F=function(e){return e=(this.a(e+1)<<8)+this.a(e),0>e&&(e+=65536),e},this.m=function(e){var t=this.a(e),n=this.a(e+1),i=this.a(e+2);return e=this.a(e+3),t=(((t<<8)+n<<8)+i<<8)+e,0>t&&(t+=4294967296),t},this.w=function(e){var t=this.a(e),n=this.a(e+1);return e=this.a(e+2),t=((t<<8)+n<<8)+e,0>t&&(t+=16777216),t},this.c=function(e,t){for(var n=[],i=e,r=0;e+t>i;i++,r++)n[r]=String.fromCharCode(this.a(i));return n.join("")},this.h=function(e,t,i){switch(e=this.s(e,t),i.toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":i=n.J(e,i);break;case"utf-8":i=n.K(e);break;default:i=n.I(e)}return i},this.i=function(e,t){t()}}},{"./stringutils":9,atob:void 0,btoa:void 0}],2:[function(e,t){var n=e("./binaryfile");t.f=function(t,i,r){function a(e,t,n,i,r,a){var s=o();s?("undefined"==typeof a&&(a=!0),t&&("undefined"!=typeof s.onload?(s.onload=function(){"200"==s.status||"206"==s.status?(s.fileSize=r||s.getResponseHeader("Content-Length"),t(s)):n&&n({error:"xhr",xhr:s}),s=null},n&&(s.onerror=function(){n({error:"xhr",xhr:s}),s=null})):s.onreadystatechange=function(){4==s.readyState&&("200"==s.status||"206"==s.status?(s.fileSize=r||s.getResponseHeader("Content-Length"),t(s)):n&&n({error:"xhr",xhr:s}),s=null)}),s.open("GET",e,a),s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),i&&s.setRequestHeader("Range","bytes="+i[0]+"-"+i[1]),s.setRequestHeader("If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),s.send(null)):n&&n({error:"Unable to create XHR object"})}function o(){var t=null;return"undefined"==typeof window?t=new(e("xmlhttprequest").XMLHttpRequest):window.XMLHttpRequest?t=new window.XMLHttpRequest:window.ActiveXObject&&(t=new window.ActiveXObject("Microsoft.XMLHTTP")),t}function s(e,t,n){var i=o();i?(t&&("undefined"!=typeof i.onload?(i.onload=function(){"200"==i.status||"206"==i.status?t(this):n&&n({error:"xhr",xhr:i}),i=null},n&&(i.onerror=function(){n({error:"xhr",xhr:i}),i=null})):i.onreadystatechange=function(){4==i.readyState&&("200"==i.status||"206"==i.status?t(this):n&&n({error:"xhr",xhr:i}),i=null)}),i.open("HEAD",e,!0),i.send(null)):n&&n({error:"Unable to create XHR object"})}function c(e,t){function i(e){var t=~~(e[0]/s)-c;return e=~~(e[1]/s)+1+c,0>t&&(t=0),e>=blockTotal&&(e=blockTotal-1),[t,e]}function o(n,i){for(;f[n[0]];)if(n[0]++,n[0]>n[1])return void(i&&i());for(;f[n[1]];)if(n[1]--,n[0]>n[1])return void(i&&i());var o=[n[0]*s,(n[1]+1)*s-1];a(e,function(e){parseInt(e.getResponseHeader("Content-Length"),10)==t&&(n[0]=0,n[1]=blockTotal-1,o[0]=0,o[1]=t-1),e={data:e.W||e.responseText,offset:o[0]};for(var r=n[0];r<=n[1];r++)f[r]=e;i&&i()},r,o,l,!!i)}var s,c,l,u=new n("",0,t),f=[];s=s||2048,c="undefined"==typeof c?0:c,blockTotal=~~((t-1)/s)+1;for(var d in u)u.hasOwnProperty(d)&&"function"==typeof u[d]&&(this[d]=u[d]);this.a=function(e){var t;return o(i([e,e])),(t=f[~~(e/s)])&&"string"==typeof t.data?255&t.data.charCodeAt(e-t.offset):t&&"unknown"==typeof t.data?IEBinary_getByteAt(t.data,e-t.offset):""},this.i=function(e,t){o(i(e),t)}}!function(){s(t,function(e){e=parseInt(e.getResponseHeader("Content-Length"),10)||-1,i(new c(t,e))},r)}()}},{"./binaryfile":1,xmlhttprequest:void 0}],3:[function(e,t){var n=e("./binaryfile");t.f=function(e,t){return function(i,r){var a=t||new FileReader;a.onload=function(e){r(new n(e.target.result))},a.readAsBinaryString(e)}}},{"./binaryfile":1}],4:[function(e,t){function n(e){return"ftypM4A"==e.c(4,7)?i:"ID3"==e.c(0,3)?a:r}var i=e("./id4"),r=e("./id3v1"),a=e("./id3v2"),o=e("./bufferedbinaryajax"),s=e("./filereader");"undefined"!=typeof window&&(window.FileAPIReader=s);var c={},l={},u=[0,7];c.B=function(e){delete l[e]},c.A=function(){l={}},c.H=function(e,t,i){i=i||{},(i.dataReader||o)(e,function(r){r.i(u,function(){var a=n(r);a.u(r,function(){var n,o=i.tags,s=a.v(r,o),o=l[e]||{};for(n in s)s.hasOwnProperty(n)&&(o[n]=s[n]);l[e]=o,t&&t()})})},i.onError)},c.D=function(e){if(!l[e])return null;var t,n={};for(t in l[e])l[e].hasOwnProperty(t)&&(n[t]=l[e][t]);return n},c.G=function(e,t){return l[e]?l[e][t]:null},c.FileAPIReader=s,c.loadTags=c.H,c.getAllTags=c.D,c.getTag=c.G,c.clearTags=c.B,c.clearAll=c.A,t.f=c},{"./bufferedbinaryajax":2,"./filereader":3,"./id3v1":5,"./id3v2":6,"./id4":8}],5:[function(e,t){var n={},i="Blues;Classic Rock;Country;Dance;Disco;Funk;Grunge;Hip-Hop;Jazz;Metal;New Age;Oldies;Other;Pop;R&B;Rap;Reggae;Rock;Techno;Industrial;Alternative;Ska;Death Metal;Pranks;Soundtrack;Euro-Techno;Ambient;Trip-Hop;Vocal;Jazz+Funk;Fusion;Trance;Classical;Instrumental;Acid;House;Game;Sound Clip;Gospel;Noise;AlternRock;Bass;Soul;Punk;Space;Meditative;Instrumental Pop;Instrumental Rock;Ethnic;Gothic;Darkwave;Techno-Industrial;Electronic;Pop-Folk;Eurodance;Dream;Southern Rock;Comedy;Cult;Gangsta;Top 40;Christian Rap;Pop/Funk;Jungle;Native American;Cabaret;New Wave;Psychadelic;Rave;Showtunes;Trailer;Lo-Fi;Tribal;Acid Punk;Acid Jazz;Polka;Retro;Musical;Rock & Roll;Hard Rock;Folk;Folk-Rock;National Folk;Swing;Fast Fusion;Bebob;Latin;Revival;Celtic;Bluegrass;Avantgarde;Gothic Rock;Progressive Rock;Psychedelic Rock;Symphonic Rock;Slow Rock;Big Band;Chorus;Easy Listening;Acoustic;Humour;Speech;Chanson;Opera;Chamber Music;Sonata;Symphony;Booty Bass;Primus;Porn Groove;Satire;Slow Jam;Club;Tango;Samba;Folklore;Ballad;Power Ballad;Rhythmic Soul;Freestyle;Duet;Punk Rock;Drum Solo;Acapella;Euro-House;Dance Hall".split(";");n.u=function(e,t){var n=e.l();e.i([n-128-1,n],t)},n.v=function(e){var t=e.l()-128;if("TAG"==e.c(t,3)){var n=e.c(t+3,30).replace(/\0/g,""),r=e.c(t+33,30).replace(/\0/g,""),a=e.c(t+63,30).replace(/\0/g,""),o=e.c(t+93,4).replace(/\0/g,"");if(0==e.a(t+97+28))var s=e.c(t+97,28).replace(/\0/g,""),c=e.a(t+97+29);else s="",c=0;return e=e.a(t+97+30),{version:"1.1",title:n,artist:r,album:a,year:o,comment:s,track:c,genre:255>e?i[e]:""}}return{}},t.f=n},{}],6:[function(e,t){function n(e,t){var n=t.a(e),i=t.a(e+1),r=t.a(e+2);return 127&t.a(e+3)|(127&r)<<7|(127&i)<<14|(127&n)<<21}var i=e("./id3v2frames");i.frames={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"};var r={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]},a=["title","artist","album","track"];i.u=function(e,t){e.i([0,n(6,e)],t)},i.v=function(e,t){var o=0,s=e.a(o+3);if(s>4)return{version:">2.4"};var c=e.a(o+4),l=e.g(o+5,7),u=e.g(o+5,6),f=e.g(o+5,5),d=n(o+6,e),o=o+10;if(u)var p=e.m(o),o=o+(p+4);var g,s={version:"2."+s+"."+c,major:s,revision:c,flags:{unsynchronisation:l,extended_header:u,experimental_indicator:f},size:d};if(l)g={};else{for(var m,d=d-10,l=e,c=t,u={},f=s.major,p=[],h=0;m=(c||a)[h];h++)p=p.concat(r[m]||[m]);for(c=p;d>o;){p=null,h=l,m=o;var v=null;switch(f){case 2:g=h.c(m,3);var T=h.w(m+3),y=6;break;case 3:g=h.c(m,4),T=h.m(m+4),y=10;break;case 4:g=h.c(m,4),T=n(m+4,h),y=10}if(""==g)break;if(o+=y+T,!(0>c.indexOf(g))){if(f>2)var v=h,C=m+8,v={message:{Y:v.g(C,6),R:v.g(C,5),V:v.g(C,4)},format:{T:v.g(C+1,7),N:v.g(C+1,3),P:v.g(C+1,2),L:v.g(C+1,1),C:v.g(C+1,0)}};m+=y,v&&v.format.C&&(n(m,h),m+=4,T-=4),v&&v.format.L||(g in i.b?p=i.b[g]:"T"==g[0]&&(p=i.b["T*"]),p=p?p(m,T,h,v):void 0,p={id:g,size:T,description:g in i.frames?i.frames[g]:"Unknown",data:p},g in u?(u[g].id&&(u[g]=[u[g]]),u[g].push(p)):u[g]=p)}}g=u}for(var b in r)if(r.hasOwnProperty(b)){e:{for(T=r[b],"string"==typeof T&&(T=[T]),y=0,o=void 0;o=T[y];y++)if(o in g){e=g[o].data;break e}e=void 0}e&&(s[b]=e)}for(var k in g)g.hasOwnProperty(k)&&(s[k]=g[k]);return s},t.f=i},{"./id3v2frames":7}],7:[function(e,t){function n(e){var t;switch(e){case 0:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8"}return t}var i={b:{}},r="32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. lable side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");i.b.APIC=function(e,t,i,a,o){o=o||"3",a=e;var s=n(i.a(e));switch(o){case"2":var c=i.c(e+1,3);e+=4;break;case"3":case"4":c=i.h(e+1,t-(e-a),""),e+=1+c.j}return o=i.a(e,1),o=r[o],s=i.h(e+1,t-(e-a),s),e+=1+s.j,{format:c.toString(),type:o,description:s.toString(),data:i.s(e,a+t-e)}},i.b.COMM=function(e,t,i){var r=e,a=n(i.a(e)),o=i.c(e+1,3),s=i.h(e+4,t-4,a);return e+=4+s.j,e=i.h(e,r+t-e,a),{language:o,X:s.toString(),text:e.toString()}},i.b.COM=i.b.COMM,i.b.PIC=function(e,t,n,r){return i.b.APIC(e,t,n,r,"2")},i.b.PCNT=function(e,t,n){return n.S(e)},i.b.CNT=i.b.PCNT,i.b["T*"]=function(e,t,i){var r=n(i.a(e));return i.h(e+1,t-1,r).toString()},i.b.TCON=function(e,t,n){return i.b["T*"].apply(this,arguments).replace(/^\(\d+\)/,"")},i.b.TCO=i.b.TCON,i.b.USLT=function(e,t,i){var r=e,a=n(i.a(e)),o=i.c(e+1,3),s=i.h(e+4,t-4,a);return e+=4+s.j,e=i.h(e,r+t-e,a),{language:o,O:s.toString(),U:e.toString()}},i.b.ULT=i.b.USLT,t.f=i},{}],8:[function(e,t){function n(e,t,i,a){var o=e.m(t);if(0==o)a();else{var s=e.c(t+4,4);-1<["moov","udta","meta","ilst"].indexOf(s)?("meta"==s&&(t+=4),e.i([t+8,t+8+8],function(){n(e,t+8,o-8,a)})):e.i([t+(s in r.o?0:o),t+o+8],function(){n(e,t+o,i,a)})}}function i(e,t,n,a,o){o=void 0===o?"":o+"  ";for(var s=n;n+a>s;){var c=t.m(s);if(0==c)break;var l=t.c(s+4,4);if(-1<["moov","udta","meta","ilst"].indexOf(l)){"meta"==l&&(s+=4),i(e,t,s+8,c-8,o);break}if(r.o[l]){var u=t.w(s+16+1),f=r.o[l],u=r.types[u];if("trkn"==l)e[f[0]]=t.a(s+16+11),e.count=t.a(s+16+13);else{var d,l=s+16+4+4,p=c-16-4-4;switch(u){case"text":d=t.h(l,p,"UTF-8");break;case"uint8":d=t.F(l);break;case"jpeg":case"png":d={format:"image/"+u,data:t.s(l,p)}}e[f[0]]="comment"===f[0]?{text:d}:d}}s+=c}}var r={types:{0:"uint8",1:"text",13:"jpeg",14:"png",21:"uint8"},o:{"©alb":["album"],"©art":["artist"],"©ART":["artist"],aART:["artist"],"©day":["year"],"©nam":["title"],"©gen":["genre"],trkn:["track"],"©wrt":["composer"],"©too":["encoder"],cprt:["copyright"],covr:["picture"],"©grp":["grouping"],keyw:["keyword"],"©lyr":["lyrics"],"©cmt":["comment"],tmpo:["tempo"],cpil:["compilation"],disk:["disc"]},u:function(e,t){e.i([0,7],function(){n(e,0,e.l(),t)})},v:function(e){var t={};return i(t,e,0,e.l()),t}};t.f=r},{}],9:[function(e,t){t.f={J:function(e,t,n){var i=0,r=1,a=0;n=Math.min(n||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,i=2):255==e[0]&&254==e[1]&&(t=!1,i=2),t&&(r=0,a=1),t=[];for(var o=0;n>i;o++){var s=e[i+r],c=(s<<8)+e[i+a],i=i+2;if(0==c)break;216>s||s>=224?t[o]=String.fromCharCode(c):(s=(e[i+r]<<8)+e[i+a],i+=2,t[o]=String.fromCharCode(c,s))}return e=new String(t.join("")),e.j=i,e},K:function(e,t){var n=0;t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(n=3);for(var i=[],r=0;t>n;r++){var a=e[n++];if(0==a)break;if(128>a)i[r]=String.fromCharCode(a);else if(a>=194&&224>a){var o=e[n++];i[r]=String.fromCharCode(((31&a)<<6)+(63&o))}else if(a>=224&&240>a){var o=e[n++],s=e[n++];i[r]=String.fromCharCode(((255&a)<<12)+((63&o)<<6)+(63&s))}else if(a>=240&&245>a){var o=e[n++],s=e[n++],c=e[n++],a=((7&a)<<18)+((63&o)<<12)+((63&s)<<6)+(63&c)-65536;i[r]=String.fromCharCode((a>>10)+55296,(1023&a)+56320)}}return i=new String(i.join("")),i.j=n,i},I:function(e,t){var n=[];t=t||e.length;for(var i=0;t>i;){var r=e[i++];if(0==r)break;n[i-1]=String.fromCharCode(r)}return n=new String(n.join("")),n.j=i,n}}},{}]},{},[4])(4)});